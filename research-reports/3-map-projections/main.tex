\documentclass[a4paper,12pt]{article} %set page size, font size, and type

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage{graphicx} %add pictures to document
\usepackage{fancyhdr} %change headers and footers
\usepackage{verbatim} 
\usepackage[shortlabels]{enumitem} %change list formatting
\usepackage{array}
\usepackage{tabularx} %allows "X" in tables
\usepackage{tabu} %for longtabu
\usepackage{longtable}
\usepackage{textcomp}
\usepackage{wasysym} %more symbols
\usepackage{listings} %syntax highlighting
\usepackage{fancyvrb}
\usepackage[dvipsnames]{xcolor}
\usepackage{booktabs}
\usepackage{lastpage}
\usepackage{tocloft} %table of contents modification to make lines closer
\usepackage[compact, nobottomtitles]{titlesec} %modify styles of titles
\usepackage[justification=centering,
            font={small},
            textfont={it},
            labelfont=bf]{caption} %make figure hyperlinks go to top of image
\usepackage[margin=3cm, driver=pdftex]{geometry} %make the margins smaller
\usepackage[backend=biber,
            sorting=none]{biblatex} %create bibliography
\usepackage[pdftex,
            colorlinks,
            linkcolor={red!50!black},
            citecolor={blue!50!black},
            urlcolor={blue!80!black},
            pdfauthor={George Honeywood},
            pdftitle={FYP Research Report}]{hyperref} %give the pdf hyperlinks and other jazz

\fancyhf{} %clear out headers and footers before creating own
\fancyfoot[L]{\begin{footnotesize}George Honeywood\end{footnotesize}}
\fancyfoot[R]{\begin{footnotesize}Research Report\end{footnotesize}}
\fancyfoot[C]{\begin{footnotesize}\thepage{}/\pageref*{LastPage}\end{footnotesize}}

\pagestyle{fancy} %put the footer on every page
\fancypagestyle{plain}

\setlength{\parskip}{1em} %stuff to reduce spacing and indents on paragraphs
\setlength{\parindent}{0pt}

\setcounter{secnumdepth}{2} %depth of numbering for section headings
\setcounter{tocdepth}{3} %depth of headings included in the contents

\setlist[itemize]{noitemsep, nolistsep} %make lists take up less room

\setlength{\LTpost}{0pt} %reduce space under table for longtable/longtabu
\setlength{\tabulinesep}{4pt} %spacing in tabu

% prevent long urls in the in the bibliography from overfilling (weird breaks are preferred)
\setcounter{biburlnumpenalty}{9000}
\setcounter{biburllcpenalty}{9000}
\setcounter{biburlucpenalty}{9000}

\addbibresource{sources.bib} %references for bibtex and biber

\begin{document}
{
\centering
{\scshape\large Royal Holloway, University of London\par}
\vspace{0.5cm}
{\Huge Final Year Project --- Research Report\par}
\vspace{0.2cm}
{\Large Offline HTML5 Maps Application\par}
\vspace{0.2cm}
{\Huge Projecting a map\par}
\vspace{0.5cm}
{\large George Honeywood --- \the\month/\the\year\par}
\vspace{0.5cm}
}

The core of this project is being able to render a map. This in its most basic form means being able to take coordinates, which represent a position on the sphere-like body that is the earth, and placing these on a two-dimensional plane. This process is known as map projection~\cite[5]{canters2002small}.

OpenStreetMap uses the WGS84 coordinate reference system (EPSG:4326) to represent the positions of the nodes that make up its data~\cite{osm-wiki-wgs84}. GPS uses this CRS, and it is a popular standard~\cite{epsg.io-epsg:4326}.

If you were to naively place coordinates from the WGS84 system on to a graph, you would get a ``plate carrée'' projected map. This projection is a form of the equirectangular projection, where the standard parallel \(\phi_1 = 0\). In plate carrée, lines of longitude are straight, vertical and equidistant, and lines of latitude are similar, albeit horizontal. Although all map projections are compromises between conformality (preservation of angle) and preservation of area, plate carré does not preserve either, meaning it is not particularly well-used.

Hence, OpenSteetMap uses the ``Web Mercator'' projection (also known as Spherical Mercator, WGS 84/Pseudo-Mercator, Google Web Mercator, EPSG:3857). This projection is almost conformal, meaning that (local) angles on the map are the same as angles on the ground, even if lengths are not preserved~\cite{carto-implications-of-webmercator,}. It deviates from normal Mercator in that its calculations are based on the earth being a true sphere, rather than ellipsoidal. The benefit of this is that the calculations for converting between WGS84 latitude/longitude coordinates, and Web Mercator are simpler than normal Mercator~\cite{ugrc-earth-not-round}.

So, to convert from latitude/longitude coordinates to Web Mercator, we can use equations 7--1a \& 7--2a from \textcite[41]{snyder1987map}, where \(\lambda{}\) is longitude and \(\phi{}\) is latitude, both in degrees:

\[x = \frac{\pi R(\lambda^\circ - \lambda^\circ_0)}{180^\circ} \]

\[y = R \ln \tan \left( 45^\circ + \frac{\phi^\circ}{2} \right) \]

\printbibliography{}

\end{document}